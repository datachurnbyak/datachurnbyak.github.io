<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Data churn by AK - One-Way ANOVA: Learn by experimenting with data.</title>

<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" media="print" onload="this.media='all'">
<noscript>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap">
</noscript>



<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="manifest" href="/assets/manifest.json">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#f0f0f0">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="Data churn by AK's App">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="msapplication-TileColor" content="#2d89ef">
  <meta name="msapplication-starturl" content="/">
  <meta name="application-name" content="Data churn by AK's App">
  <meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">

    <meta name="keywords" content="Statistics, ANOVA, population difference, F test">

  <meta name="description" content="One-way ANOVA explained in easy way">
  <meta name="robots" content="index, follow">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="One-Way ANOVA: Learn by experimenting with data.">
<meta name="twitter:site" content="@amritkoirala1">
<meta name="twitter:description" content="One-way ANOVA explained in easy way">
<meta name="twitter:image" content="http://localhost:4000/assets/img/posts/OneWayAnova_files/figure-markdown/head%20one%20way%20ANOVA.svg">
<meta property="og:site_name" content="Data churn by AK">
<meta property="og:type" content="article">
<meta property="og:title" content="One-Way ANOVA: Learn by experimenting with data.">
<meta property="og:description" content="One-way ANOVA explained in easy way">
<meta property="og:url" content="http://localhost:4000/posts/2021-06-14-OneWay-ANOVA">
<meta property="og:image" content="http://localhost:4000/assets/img/posts/OneWayAnova_files/figure-markdown/head%20one%20way%20ANOVA.svg">
  <meta property="article:author" content="Amrit Koirala">
  <meta property="article:published_time" content="2021-01-12T17:11:06-06:00">
  <meta property="article:modified_time" content="2021-01-12T17:11:06-06:00">
  <meta property="article:section" content="Statistics">
  <meta property="article:tag" content="ANOVA">
  <meta property="article:tag" content="population difference">
  <meta property="article:tag" content="F test">
  <script type="application/ld+json">{
  "@context": "https://schema.org"
  ,"@graph": [
    {
      "@type": "Person"
      ,"@id": "http://localhost:4000/#person"
      ,"name": "Amrit Koirala"
      ,"url": "http://localhost:4000/tabs/about.html"
      ,"image": "http://localhost:4000/assets/img/about/about.jpg"
      ,"description": "Data churn by AK is Amrit Koirala's journey in bioinformatics and data science."
  },{
    "@type": "WebSite"
    ,"@id": "http://localhost:4000/#website"
    ,"url": "http://localhost:4000/"
    ,"name": "Data churn by AK"
    ,"description": "Data churn by AK is Amrit Koirala's journey in bioinformatics and data science."
    ,"publisher": {"@id": "http://localhost:4000/#person"}
    ,"inLanguage": "en-US"
    ,"sameAs": ["https://www.github.com/akoirala2000","https://www.linkedin.com/in/amrit-koirala-41037392","https://www.twitter.com/amritkoirala1"]
    ,"copyrightHolder" : {"@id": "http://localhost:4000/#person"}
    ,"copyrightYear" : "2022"
  },{
    "@type": "WebPage"
    ,"@id": "http://localhost:4000/posts/2021-06-14-OneWay-ANOVA#webpage"
    ,"url": "http://localhost:4000/posts/2021-06-14-OneWay-ANOVA"
    ,"name": "One-Way ANOVA: Learn by experimenting with data."
    ,"isPartOf": {"@id": "http://localhost:4000/#website"}
    ,"breadcrumb": {"@id": "http://localhost:4000/posts/2021-06-14-OneWay-ANOVA#breadcrumb"}
    ,"primaryImageOfPage": "http://localhost:4000/assets/img/posts/OneWayAnova_files/figure-markdown/head%20one%20way%20ANOVA.svg"
    ,"datePublished": "2021-01-12T17:11:06-06:00"
    ,"dateModified": "2021-01-12T17:11:06-06:00"
    ,"description": "One-way ANOVA explained in easy way"
    ,"inLanguage": "en-US"
    ,"potentialAction": {
      "@type": "ReadAction"
      ,"target": "http://localhost:4000/posts/2021-06-14-OneWay-ANOVA"
    }
  },{
      "@type": "BreadcrumbList",
      "@id": "http://localhost:4000/posts/2021-06-14-OneWay-ANOVA#breadcrumb",
      "itemListElement": [
        {
          "@type": "ListItem"
          ,"position": 1
          ,"name": "Home"
          ,"item": "http://localhost:4000/"
        },
        {
          "@type": "ListItem"
          ,"position": 2
          ,"name": "Notes"
          ,"item": "http://localhost:4000/tabs/blog/"
        },
        {
          "@type": "ListItem"
          ,"position": 3
          ,"name": "One-Way ANOVA: Learn by experimenting with data."
        }
      ]
    },{
      "@type": "BlogPosting"
      ,"@id": "http://localhost:4000/posts/2021-06-14-OneWay-ANOVA#content"
      ,"isPartOf": {"@id": "http://localhost:4000/posts/2021-06-14-OneWay-ANOVA#webpage"}
      ,"mainEntityOfPage": {"@id": "http://localhost:4000/posts/2021-06-14-OneWay-ANOVA#webpage"}
      ,"publisher": {"@id": "http://localhost:4000/#person"}
      ,"author": {"@id": "http://localhost:4000/#person"}
      ,"inLanguage": "en-US"
      ,"headline": "One-Way ANOVA: Learn by experimenting with data."
      ,"image": "http://localhost:4000/assets/img/posts/OneWayAnova_files/figure-markdown/head%20one%20way%20ANOVA.svg"
      ,"thumbnailUrl": "http://localhost:4000/assets/img/posts/OneWayAnova_files/figure-markdown/head%20one%20way%20ANOVA.svg"
      ,"datePublished": "2021-01-12T17:11:06-06:00"
      ,"dateModified": "2021-01-12T17:11:06-06:00"
      ,"articleSection": ["Statistics", "ANOVA", "population difference", "F test"]
      ,"description": "One-way ANOVA explained in easy way"
      ,"copyrightHolder" : {"@id": "http://localhost:4000/#person"}
      ,"copyrightYear" : "2022"
      ,"wordCount": 2174
      ,"articleBody": "Introduction   T-test is a popular method of comparing means between two populations but if we want to extend it beyond two populations there is serious decrease in power of test. On careful study of variance in multiple populations, early statisticians like Ronald Fisher found that analysis of variation can be used to check if there is difference in means of multiple populations which is popularly known as ANOVA in short. For example, in the figure below (fig 1) we can see distribution of test score in the population of four groups of students under two scenarios. First scenario in the left is when variance is small and second scenario on the right is when variance is large. Same group of students have same mean in both scenarios. Eyeballing these plots, we can say that the populations are more separated from each other in the first scenario than in the second. What does this separation means in the statistical terms is the difference in means in the populations in the left is more obvious than the one on the right. The more overlap is there among these populations less confident we are on the difference of their means. ANOVA provides the statistical framework of determining this confidence using just one sample from these populations. It compares if the variance between groups is significantly greater than the variance within the groups. R code for plot set.seed(3456) par(mfrow=c(1,2), mai= c(1,0,1,0)) #population defined by mean and variance #Scenario I poplist &lt;- list(pop1=c(22, 4) , pop2= c(25, 4), pop3 = c(30, 6), pop4= c(34,3)) pop_col = c(\"blue\", \"darkgreen\", \"red\", \"purple\") shade = c(rgb(0,0,255, max=255,alpha=100), rgb(0, 238, 0,max=255, alpha=100), rgb(173,0,0,max=255, alpha=100), rgb(160,32,240, max=255,alpha=100)) plot(x=0,y=0,xlim= c(10,48), ylim=c(0,0.25), pch=NULL, ylab= \"\", xlab=\"score\", main=\"Distribution when variance is low \\n means = (22, 25, 30, 34) \\n variance = (4, 4, 6, 3) \", yaxt=\"n\") for(i in seq_along(poplist)){ polygon(c(seq(10, 40, 0.5),10), c(dnorm(seq(10, 40, 0.5), mean =poplist[[i]][1], sd=sqrt(poplist[[i]][2])),0), col=shade[i]) curve(dnorm(x, mean=poplist[[i]][1], sd=sqrt(poplist[[i]][2])), col=pop_col[i], lwd=2,add=T) } #Scenario II poplist &lt;- list(pop1=c(22, 10) , pop2= c(25, 11), pop3 = c(30, 12), pop4= c(34,13)) pop_col = c(\"blue\", \"darkgreen\", \"red\", \"purple\") plot(x=0,y=0,xlim= c(10,48), ylim=c(0,0.25), pch=NULL, ylab=\"\",xlab=\"score\", main=\"Distribution when variance is high \\n means = (22, 25, 30, 34) \\n variance = (10, 11, 12, 13) \", yaxt=\"n\") for(i in seq_along(poplist)){ polygon(c(seq(10, 50, 0.5),10), c(dnorm(seq(10, 50, 0.5), mean =poplist[[i]][1], sd=sqrt(poplist[[i]][2])),0), col=shade[i]) curve(dnorm(x, mean=poplist[[i]][1], sd=sqrt(poplist[[i]][2])), col=pop_col[i], lwd=2,add=T) } legend(30,0.25, legend = c(\"Group A \", \"Group B\", \"Group C\", \"Group D\"), col= c(\"blue\", \"darkgreen\", \"red\", \"purple\"), lty= c(1,1,1,1), lwd=2) done! Fig 1: Distribution of population with different variance. Data collection We will use data from the same populations we discussed in the introduction. We will select a small sample of size(n)= 5 from each population in each scenario. Using R lets get such samples and see the distribution of the values in each sample using box plot (fig 2). code here set.seed(3456) par(mfrow=c(1,2)) ###Scenario I sampling levelA_1&lt;- round(rnorm(5, 22, 4),0) levelB_1 &lt;- round(rnorm(5, 25,4),0) levelC_1&lt;- round(rnorm(5,30,6),0) levelD_1&lt;- round(rnorm (5, 34, 3),0) levels &lt;- c(rep(\"A\",5),rep(\"B\",5),rep(\"C\",5),rep(\"D\",5)) boxplot(c(levelA_1,levelB_1,levelC_1, levelD_1)~levels, col=pop_col, ylim=c(6,60), main=\"Scenario I\", ylab=\"score\", border=\"azure4\") points(c(mean(levelA_1),mean(levelB_1), mean(levelC_1), mean(levelD_1) ), pch =18, col=1, cex=2) abline(h=mean(c(levelA_1,levelB_1,levelC_1, levelD_1)), col=\"blue\") stripchart(c(levelA_1,levelB_1,levelC_1, levelD_1)~levels, add =TRUE, vertical =TRUE, method= \"jitter\", col=\"darkgrey\", pch=19) ##Scenario II sampling levelA_2&lt;- round(rnorm(5, 22, 10),0) levelB_2 &lt;- round(rnorm(5, 25,11),0) levelC_2&lt;- round(rnorm(5,30,12),0) levelD_2&lt;- round(rnorm (5, 34, 13),0) levels &lt;- c(rep(\"A\",5),rep(\"B\",5),rep(\"C\",5),rep(\"D\",5)) boxplot(c(levelA_2,levelB_2,levelC_2, levelD_2)~levels, col=pop_col, ylim=c(6,60), main= \"Scenario II\", ylab=\"score\",border=\"azure4\") points(c(mean(levelA_2),mean(levelB_2), mean(levelC_2), mean(levelD_2) ), pch =18, col=1, cex=2) abline(h=mean(c(levelA_2,levelB_2,levelC_2, levelD_2)), col=\"blue\") stripchart(c(levelA_2,levelB_2,levelC_2, levelD_2)~levels, add =TRUE, vertical =TRUE, method= \"jitter\", col=\"darkgray\", pch=19) done! Fig 2: Box-plot of samples from two scenarios. In the box-plot above, the samples from the population shown in fig 1 are shown according to their group color in two different scenarios. The black diamond in each group is the group mean for that group and the blue horizontal line is the grand mean for all observations. Samples from two scenarios clearly reflect the difference in the variance in their population. Following the population variance, the observations in left are located close to the mean and in the right are more spread out. To get an idea about the difference in the means of these groups we calculated mean of each group (shown as black diamond). Group means in first scenario are 23.2, 25.0, 28.2, 33.2 in group A, B, C, and D respectively and in the second scenario it is 31.6, 24.2, 25.2, 38.8 in the group A, B, C, and D respectively. Now we need to determine if there is any difference in the mean of populations they are sampled from. Statement of the problem : Now that we have seen the data we will need to work with, lets define the question we are trying to solve. For each scenario, we saw some differences in the group means for these four samples from each group of students. But given these 4 samples (one from each group), do we have enough evidence to say the population means for these four groups are different ? Steps in ANOVA Key definitions We want to tackle this question by analysis of variance, ie we want to see, of the total variance in these scores how much of it comes from within the groups and how much of it comes from between the groups. 1.Total variance: It is the measure of total variance in the data (score). If we calculate the variance using the deviations of each observation from the grand mean it is called total variance and the sum of square used is called Total sum of squares (TSS). It has degree of freedom equal to n-1 just like normal sample variance. 2. Variance within: It is the measure of variance within each group. The deviation used is between each observation and its respective group mean. Sum of squares is called sum of square within (SSW). Since mean of each group was used as an estimate of population mean for that group it has n-t degree of freedom. See notes on degree of freedom for details about how to calculate df. Variance within is also referred as error as this is the part of total variance which could not be explained by our factor. 3. Variance between: It is the amount of variance explained by our factor. So, it is calculated using the deviations of group mean from the grand mean. It has degree of freedom equal to t-1 and sum of square is called sum of square between (SSB). This represents the variance explained by our factor. Figure below shows the relationships between these sum of squares in signal to noise analogy. TSS is proportional to the total variance in the random variable which is represented as the total background noise. When we introduce some categorical variable (groups), some of this variance in the random variable is explained by the groups, giving us some signal that this categorical variable has some effect on the random variable (represented as a pattern). If this signal takes higher proportion of TSS, then most of the variance can be attributed to the effect. For each groups, there is always some level of difference in the observations in the groups, which represents the amount of total variance that couldn’t be explained by our groups. The total sum of squares is always equal to sum of SSB and SSW. Fig 3: Understanding the partitioning of sum of squares in one-way ANOVA. Calculation of SS and mean SS. To illustrate the calculation of Sum of square we will look into the data from samples of Second scenario in more details. Figure below illustrates the calculation of SS. SSB is calculated using the black deviations in the above figure (deviation between grand mean and the group mean). In this example there are 5 samples in each level so the square of deviation needs to be multiplied by 5 before adding for each level. SSW is calculated group wise, using the deviation between each observation and the group mean (deviation represented by each group color). SST is just like regular variance using every observation in this data. So the deviation used will be between each observation and the grand mean. Now that we know how to calculate these sums lets calculate them for our samples using R click to view calculation in R # Scenario I Sum of squares grand_mean_I &lt;- mean(c(levelA_1,levelB_1,levelC_1, levelD_1)) group_mean_I &lt;- c(mean(levelA_1),mean(levelB_1), mean(levelC_1), mean(levelD_1) ) #TSS deviations &lt;- c(levelA_1, levelB_1, levelC_1, levelD_1)-grand_mean_I TSS &lt;- sum(sapply(deviations, function(x)x^2 )) cat(\"TSS = \", TSS, \"\\n\") #SSW deviations &lt;- group_mean_I - grand_mean_I SSB &lt;- sum((sapply(deviations, function(x)x^2))*5) cat(\"SSB = \", SSB, \"\\n\") #SSW deviations &lt;- c(levelA_1 - group_mean_I[1], levelB_1 - group_mean_I[2], levelC_1 - group_mean_I[3], levelD_1 - group_mean_I[4]) SSW &lt;- sum((sapply(deviations, function(x)x^2))) cat(\"SSW = \", SSW, \"\\n\") done! ## TSS = 594.8 ## SSB = 288.4 ## SSW = 306.4 F-test Once we have all sum of squares we can calculate the mean sum of squares by dividing the SS with degree of freedom. And since this mean sum of square is only the estimate of corresponding variance in the population we need to do formal hypothesis testing to see if it is statistically significant. Since we are comparing to variance we use F-test. \\[F-statistic = \\frac {\\frac{SSB}{t-1}}{\\frac {SSW}{n-t}}\\] \\[= \\frac{MSB}{MSW}\\] calculation in R ##Scenario I F-test F_statistic &lt;- (SSB/(4-1))/(SSW/(20-4)) F_statistic p_val &lt;- pf(F_statistic, 3, 16, lower.tail = F) p_val done! ## F-statistic = 5.020017 ## p-value = 0.01217514 We did it manually to illustrate the process. R has build in function to perform ANOVA. Lets use that build in function to perform ANOVA for the samples from both scenario. code here cat(\"#######---Scenario I----###########\\n\") summary(aov(c(levelA_1,levelB_1,levelC_1, levelD_1)~levels)) cat(\"\\n\\n########----Scenario II----#######\\n\") summary(aov(c(levelA_2,levelB_2,levelC_2, levelD_2)~levels)) done! ## #######---Scenario I----########### ## Df Sum Sq Mean Sq F value Pr(&gt;F) ## levels 3 288.4 96.13 5.02 0.0122 * ## Residuals 16 306.4 19.15 ## --- ## Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 ## ## ## ########----Scenario II----####### ## Df Sum Sq Mean Sq F value Pr(&gt;F) ## levels 3 683.4 227.8 1.604 0.228 ## Residuals 16 2271.6 142.0 As we expected, because the samples in second scenario came from the populations where there was more variance and they did not separate well, our test came as insignificant. Only for the first scenario we can say there is difference between means of these groups of students (given the p-value of 0.012, there is less than 2% chance of error when we say so). If we want to say same statement for scenario II, there is 22.8% chance that we will be wrong. That is why test in second scenario is not significant. It is very important to note that, true mean of groups in our population is same in both scenarios and there is difference too. Because of the difference in variance in these scenarios, samples from first scenario has enough information to reflect that difference in population mean but in second scenario that difference in group means is lost in the noise added by high variance in that population. So our sample in second case doesn’t give us any conclusion, that is why insignificant results should not be interpreted is no different in means. It simply means the samples we are using do not have enough information to say there is difference in population means. In our situation, increasing the sample size to 30 will resolve the problem in second scenario as well. See code for details ###Scenario II large sample size summary(aov(c(round(rnorm(30, 22, 10),0) ,round(rnorm(30, 25,11),0), round(rnorm(30,30,12),0), round(rnorm (30, 34, 13),0))~ c(rep(\"A\",30),rep(\"B\",30),rep(\"C\",30),rep(\"D\",30)))) ## Df Sum Sq Mean Sq ## c(rep(\"A\", 30), rep(\"B\", 30), rep(\"C\", 30), rep(\"D\", 30)) 3 5001 1667.0 ## Residuals 116 18849 162.5 ## F value Pr(&gt;F) ## c(rep(\"A\", 30), rep(\"B\", 30), rep(\"C\", 30), rep(\"D\", 30)) 10.26 4.83e-06 *** ## Residuals ## --- ## Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 done! Will increasing the sample size always makes test significant ? Not really. If the samples are from the population with same mean, we cannot get significant result just by increasing the sample size. See code for details summary(aov(c(round(rnorm(300, 22, 10),0) ,round(rnorm(300, 22,11),0), round(rnorm(300,22,12),0), round(rnorm (300, 22, 13),0))~ c(rep(\"A\",300),rep(\"B\",300),rep(\"C\",300),rep(\"D\",300)))) ## Df Sum Sq ## c(rep(\"A\", 300), rep(\"B\", 300), rep(\"C\", 300), rep(\"D\", 300)) 3 917 ## Residuals 1196 159133 ## Mean Sq F value ## c(rep(\"A\", 300), rep(\"B\", 300), rep(\"C\", 300), rep(\"D\", 300)) 305.5 2.296 ## Residuals 133.1 ## Pr(&gt;F) ## c(rep(\"A\", 300), rep(\"B\", 300), rep(\"C\", 300), rep(\"D\", 300)) 0.0761 . ## Residuals ## --- ## Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 done! Conclusion One way ANOVA is very efficient tool to check if there is any effect of a factor we are interested. Effect of factor can be tested by performing ANOVA across different levels within that factor. The table below summarizes different sums of squares and degree of freedom used in one-way ANOVA. See my notes on Two-way ANOVA to learn more about ANOVA. Source df SS Mean SS F Between t-1 SSB MSB= SSB/t-1 F= MSB/MSW Within n-t SSW MSW= SSW/n-t   Total n-1 TSS    "
    }
  ]
}</script>


<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<link href="/assets/css/main.css" rel="stylesheet"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v0.4.1/dist/bootstrap-toc.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.css">
<link href="/assets/css/nav-media.css" rel="stylesheet">

  </head>

  <body >
    <script src="/assets/js/color-scheme-attr-init.js" data-mode="false"></script>
    <nav class="navbar navbar-default top-nav">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle collapsed pull-left top-nav-menu-toggle" data-toggle="collapse" data-target="#id_top-nav-menu-toggle" aria-expanded="false">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand top-nav-brand" href="/" translate="no">Data churn by AK</a>
    </div>
  <div class="color_scheme_switch_top_holder" data-toggle="tooltip" data-placement="bottom" title="Color scheme">
  <label class="color-scheme-switch hover-effect">
    <input type="checkbox" class="checkbox_color_switch" />
    <span></span>
  </label>
</div>

  
</nav>
<nav id="side-nav-container">
  <div class="side-nav">
    <div class="side-nav-brand">
      <img src="/assets/img/default/profile.jpg" alt="">
      <div class="brand-holder">
        <a href="/" translate="no">Data churn by AK</a>
        </div>
      <p>&nbsp;Data blogs</p>
      <br>
    </div>
    <br>
    <a href="javascript:void(0);" class="side-nav-close">
        <i class="fa fa-angle-double-left fa-2x" aria-hidden="true"></i>
      </a>
    <hr>
    <br>
    <div class="side-nav-buttons">
      <ul class="nav nav-pills nav-stacked">
        <li ><a href="/" class=" hover-effect"><i class="fa-fw fa fa-home" aria-hidden="true"></i>Home</a></li><li ><a href="/tabs/blog/" class="active-page hover-effect"><i class="fa-fw fa fa-pencil-square-o" aria-hidden="true"></i>Notes</a></li><li ><a href="/tabs/archive.html" class=" hover-effect"><i class="fa-fw fa fa-archive" aria-hidden="true"></i>Archive</a></li><li ><a href="/tabs/projects.html" class=" hover-effect"><i class="fa-fw fa fa-book" aria-hidden="true"></i>Notebooks</a></li><li ><a href="/tabs/links.html" class=" hover-effect"><i class="fa-fw fa fa-link" aria-hidden="true"></i>Links</a></li><li ><a href="/tabs/about.html" class=" hover-effect"><i class="fa-fw fa fa-user-o" aria-hidden="true"></i>About</a></li></ul>
    </div>
    <br>
    <br><div class="contact-container">
  <hr>
  <h3>Contact</h3>
  <ul><li><a href="https://www.github.com/akoirala2000" class="hover-effect-big" target="_blank" rel="noopener noreferrer"><i class="fa fa-github" aria-hidden="true"></i></a></li><li>
      <a href="javascript:void(0);" class="hover-effect-big" onclick="setAddress('datachurnbyak', 'gmail.com');"><i class="fa fa-envelope-o" aria-hidden="true"></i></a></li><li><a href="https://www.linkedin.com/in/amrit-koirala-41037392" class="hover-effect-big" target="_blank" rel="noopener noreferrer"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a href="https://www.twitter.com/amritkoirala1" class="hover-effect-big" target="_blank" rel="noopener noreferrer"><i class="fa fa-twitter" aria-hidden="true"></i></a></li></ul>
</div>

    <hr id="toc-view-top">
    <div class="side-nav-footer" translate="no">
        <p>&copy; 2022 Data churn by AK.</p>
      </div>
  </div>
  <div class="side-nav-bottom-buttons-container">
    <hr>
    <ul>
      <li><div class="color_scheme_switch_side_holder" data-toggle="tooltip" data-placement="top" title="Color scheme">
  <label class="color-scheme-switch hover-effect">
    <input type="checkbox" class="checkbox_color_switch" />
    <span></span>
  </label>
</div>
</li><li><div class="cookie-icon hover-effect" onclick="CookieConsent.showSettings();" data-toggle="tooltip" data-placement="top" title="Cookie settings">
  <div class="cookie-wrapper">
    <i class="fa fa-circle bitten-cookie" aria-hidden="true"></i>
    <i class="fa fa-circle small-ellipse-icon" aria-hidden="true"></i>
    <i class="fa fa-spinner inner-icon" aria-hidden="true"></i>
    <i class="fa fa-circle-thin outer-icon" aria-hidden="true"></i>
  </div>
</div>
</li></ul>
  </div></nav>
<div id="toc-container" class="movable">
  <div class="panel panel-default">
    <div class="panel-heading" data-toggle="tooltip" data-placement="top" title="Drag to move">
      Contents
      <span class="pull-right">
        <a href="javascript:void(0);" class="close-button" onclick="document.getElementById('toc-container').style.display = 'none';">
          <i class="fa fa-times" data-toggle="tooltip" data-placement="bottom" title="Close"></i>
        </a>
      </span>
    </div>
    <div class="panel-body">
      <nav id="table-of-contents"></nav>
    </div>
  </div>
</div>
<div id="main-wrapper">
      <div class="main-container"><div class="multipurpose-container post-container">
  <div class="post-title">One-Way ANOVA: Learn by experimenting with data.</div><div class="meta">
  <small>
    &nbsp;<i class="fa fa-calendar"></i>&nbsp;&nbsp;Jan 12, 2021
  </small>
  <small>
    &nbsp;&nbsp;&nbsp;<span><i class="fa fa-clock-o"></i>&nbsp;17 min read</span>
  </small>
  
  <small class="meta-link" >
    &nbsp;&nbsp;&nbsp;<i class="fa fa-comments-o"></i>&nbsp;<a href="/posts/2021-06-14-OneWay-ANOVA#disqus_thread">-</a>
    <a href="javascript:void(0);" onclick="window.location.href='/posts/2021-06-14-OneWay-ANOVA#disqus_thread'">Comments</a>
  </small>
  </div>
<hr/>
  <div class="markdown-style">
    <h3 id="introduction">Introduction</h3>
<!-- outline-start -->
<p>  T-test is a popular method of comparing means between two populations
but if we want to extend it beyond two populations there is serious
decrease in power of test. On careful study of variance in multiple
populations, early statisticians like Ronald Fisher found that analysis
of variation can be used to check if there is difference in means of
multiple populations which is popularly known as ANOVA in short.<!-- outline-end --> For
example, in the figure below (fig 1) we can see distribution of test
score in the population of four groups of students under two scenarios.
First scenario in the left is when variance is small and second scenario
on the right is when variance is large. Same group of students have same
mean in both scenarios. Eyeballing these plots, we can say that the
populations are more separated from each other in the first scenario
than in the second. What does this separation means in the statistical
terms is the difference in means in the populations in the left is more
obvious than the one on the right. The more overlap is there among these
populations less confident we are on the difference of their means.
ANOVA provides the statistical framework of determining this confidence
using just one sample from these populations. It compares if the
variance between groups is significantly greater than the variance
within the groups.</p>

<div class="panel-group">
  <div class="panel panel-default" style="white-space: normal; overflow-x: auto; ">
        <button data-toggle="collapse" data-target="#toggle-proof23">
           R code for plot 
        </button>
    </div>
    <div id="toggle-proof23" class="panel-collapse collapse">
      <div class="panel-body">
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">set.seed</span><span class="p">(</span><span class="m">3456</span><span class="p">)</span><span class="w">
</span><span class="n">par</span><span class="p">(</span><span class="n">mfrow</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">),</span><span class="w"> </span><span class="n">mai</span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">1</span><span class="p">,</span><span class="m">0</span><span class="p">))</span><span class="w">
</span><span class="c1">#population defined by mean and variance </span><span class="w">
</span><span class="c1">#Scenario I</span><span class="w">
</span><span class="n">poplist</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">pop1</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">22</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">pop2</span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">25</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">),</span><span class="w"> </span><span class="n">pop3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="m">6</span><span class="p">),</span><span class="w"> </span><span class="n">pop4</span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">34</span><span class="p">,</span><span class="m">3</span><span class="p">))</span><span class="w">
</span><span class="n">pop_col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"blue"</span><span class="p">,</span><span class="w"> </span><span class="s2">"darkgreen"</span><span class="p">,</span><span class="w"> </span><span class="s2">"red"</span><span class="p">,</span><span class="w"> </span><span class="s2">"purple"</span><span class="p">)</span><span class="w">
</span><span class="n">shade</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">rgb</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">255</span><span class="p">,</span><span class="w"> </span><span class="n">max</span><span class="o">=</span><span class="m">255</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="m">100</span><span class="p">),</span><span class="w">
          </span><span class="n">rgb</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">238</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="n">max</span><span class="o">=</span><span class="m">255</span><span class="p">,</span><span class="w"> </span><span class="n">alpha</span><span class="o">=</span><span class="m">100</span><span class="p">),</span><span class="w">
              </span><span class="n">rgb</span><span class="p">(</span><span class="m">173</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="n">max</span><span class="o">=</span><span class="m">255</span><span class="p">,</span><span class="w"> </span><span class="n">alpha</span><span class="o">=</span><span class="m">100</span><span class="p">),</span><span class="w">
              </span><span class="n">rgb</span><span class="p">(</span><span class="m">160</span><span class="p">,</span><span class="m">32</span><span class="p">,</span><span class="m">240</span><span class="p">,</span><span class="w"> </span><span class="n">max</span><span class="o">=</span><span class="m">255</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="m">100</span><span class="p">))</span><span class="w">
  
</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="m">0</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="m">0</span><span class="p">,</span><span class="n">xlim</span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="m">48</span><span class="p">),</span><span class="w"> </span><span class="n">ylim</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0.25</span><span class="p">),</span><span class="w"> </span><span class="n">pch</span><span class="o">=</span><span class="kc">NULL</span><span class="p">,</span><span class="w">  </span><span class="n">ylab</span><span class="o">=</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="n">xlab</span><span class="o">=</span><span class="s2">"score"</span><span class="p">,</span><span class="w"> </span><span class="n">main</span><span class="o">=</span><span class="s2">"Distribution when variance is low \n means = (22, 25, 30, 34) \n variance = (4, 4, 6, 3) "</span><span class="p">,</span><span class="w"> </span><span class="n">yaxt</span><span class="o">=</span><span class="s2">"n"</span><span class="p">)</span><span class="w">
</span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nf">seq_along</span><span class="p">(</span><span class="n">poplist</span><span class="p">)){</span><span class="w">
  </span><span class="n">polygon</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="n">seq</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="m">40</span><span class="p">,</span><span class="w"> </span><span class="m">0.5</span><span class="p">),</span><span class="m">10</span><span class="p">),</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">dnorm</span><span class="p">(</span><span class="n">seq</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="m">40</span><span class="p">,</span><span class="w"> </span><span class="m">0.5</span><span class="p">),</span><span class="w"> </span><span class="n">mean</span><span class="w"> </span><span class="o">=</span><span class="n">poplist</span><span class="p">[[</span><span class="n">i</span><span class="p">]][</span><span class="m">1</span><span class="p">],</span><span class="w"> </span><span class="n">sd</span><span class="o">=</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">poplist</span><span class="p">[[</span><span class="n">i</span><span class="p">]][</span><span class="m">2</span><span class="p">])),</span><span class="m">0</span><span class="p">),</span><span class="w"> </span><span class="n">col</span><span class="o">=</span><span class="n">shade</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="w">
    </span><span class="n">curve</span><span class="p">(</span><span class="n">dnorm</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">mean</span><span class="o">=</span><span class="n">poplist</span><span class="p">[[</span><span class="n">i</span><span class="p">]][</span><span class="m">1</span><span class="p">],</span><span class="w"> </span><span class="n">sd</span><span class="o">=</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">poplist</span><span class="p">[[</span><span class="n">i</span><span class="p">]][</span><span class="m">2</span><span class="p">])),</span><span class="w"> </span><span class="n">col</span><span class="o">=</span><span class="n">pop_col</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="w"> </span><span class="n">lwd</span><span class="o">=</span><span class="m">2</span><span class="p">,</span><span class="n">add</span><span class="o">=</span><span class="nb">T</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="c1">#Scenario II</span><span class="w">
</span><span class="n">poplist</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">pop1</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">22</span><span class="p">,</span><span class="w"> </span><span class="m">10</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">pop2</span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">25</span><span class="p">,</span><span class="w"> </span><span class="m">11</span><span class="p">),</span><span class="w"> </span><span class="n">pop3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="m">12</span><span class="p">),</span><span class="w"> </span><span class="n">pop4</span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">34</span><span class="p">,</span><span class="m">13</span><span class="p">))</span><span class="w">
</span><span class="n">pop_col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"blue"</span><span class="p">,</span><span class="w"> </span><span class="s2">"darkgreen"</span><span class="p">,</span><span class="w"> </span><span class="s2">"red"</span><span class="p">,</span><span class="w"> </span><span class="s2">"purple"</span><span class="p">)</span><span class="w">
  
</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="m">0</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="m">0</span><span class="p">,</span><span class="n">xlim</span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="m">48</span><span class="p">),</span><span class="w"> </span><span class="n">ylim</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0.25</span><span class="p">),</span><span class="w"> </span><span class="n">pch</span><span class="o">=</span><span class="kc">NULL</span><span class="p">,</span><span class="w">  </span><span class="n">ylab</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span><span class="n">xlab</span><span class="o">=</span><span class="s2">"score"</span><span class="p">,</span><span class="w"> </span><span class="n">main</span><span class="o">=</span><span class="s2">"Distribution when variance is high \n means = (22, 25, 30, 34) \n variance = (10, 11, 12, 13) "</span><span class="p">,</span><span class="w"> </span><span class="n">yaxt</span><span class="o">=</span><span class="s2">"n"</span><span class="p">)</span><span class="w">
</span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nf">seq_along</span><span class="p">(</span><span class="n">poplist</span><span class="p">)){</span><span class="w">
   </span><span class="n">polygon</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="n">seq</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="m">50</span><span class="p">,</span><span class="w"> </span><span class="m">0.5</span><span class="p">),</span><span class="m">10</span><span class="p">),</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">dnorm</span><span class="p">(</span><span class="n">seq</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="m">50</span><span class="p">,</span><span class="w"> </span><span class="m">0.5</span><span class="p">),</span><span class="w"> </span><span class="n">mean</span><span class="w"> </span><span class="o">=</span><span class="n">poplist</span><span class="p">[[</span><span class="n">i</span><span class="p">]][</span><span class="m">1</span><span class="p">],</span><span class="w"> </span><span class="n">sd</span><span class="o">=</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">poplist</span><span class="p">[[</span><span class="n">i</span><span class="p">]][</span><span class="m">2</span><span class="p">])),</span><span class="m">0</span><span class="p">),</span><span class="w"> </span><span class="n">col</span><span class="o">=</span><span class="n">shade</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="w">
    </span><span class="n">curve</span><span class="p">(</span><span class="n">dnorm</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">mean</span><span class="o">=</span><span class="n">poplist</span><span class="p">[[</span><span class="n">i</span><span class="p">]][</span><span class="m">1</span><span class="p">],</span><span class="w"> </span><span class="n">sd</span><span class="o">=</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">poplist</span><span class="p">[[</span><span class="n">i</span><span class="p">]][</span><span class="m">2</span><span class="p">])),</span><span class="w"> </span><span class="n">col</span><span class="o">=</span><span class="n">pop_col</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="w"> </span><span class="n">lwd</span><span class="o">=</span><span class="m">2</span><span class="p">,</span><span class="n">add</span><span class="o">=</span><span class="nb">T</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="n">legend</span><span class="p">(</span><span class="m">30</span><span class="p">,</span><span class="m">0.25</span><span class="p">,</span><span class="w"> </span><span class="n">legend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Group A "</span><span class="p">,</span><span class="w"> </span><span class="s2">"Group B"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Group C"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Group D"</span><span class="p">),</span><span class="w"> </span><span class="n">col</span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"blue"</span><span class="p">,</span><span class="w"> </span><span class="s2">"darkgreen"</span><span class="p">,</span><span class="w"> </span><span class="s2">"red"</span><span class="p">,</span><span class="w"> </span><span class="s2">"purple"</span><span class="p">),</span><span class="w"> </span><span class="n">lty</span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">1</span><span class="p">,</span><span class="m">1</span><span class="p">,</span><span class="m">1</span><span class="p">),</span><span class="w"> </span><span class="n">lwd</span><span class="o">=</span><span class="m">2</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>
</div>
      <div class="panel-footer">done!</div>
  </div>
</div>

<p><img class="lozad imgViewer mfp-zoom" data-mfp-src="/assets/img/posts/OneWayAnova_files/figure-markdown/unnamed-chunk-1-1.svg" data-src="/assets/img/posts/OneWayAnova_files/figure-markdown/unnamed-chunk-1-1.svg" alt="" /></p>

<p>Fig 1: Distribution of population with different variance.</p>

<h3 id="data-collection">Data collection</h3>

<p>We will use data from the same populations we discussed in the
introduction. We will select a small sample of size(n)= 5 from each
population in each scenario. Using R lets get such samples and see the
distribution of the values in each sample using box plot (fig 2).</p>

<div class="panel-group">
  <div class="panel panel-default" style="white-space: normal; overflow-x: auto; ">
        <button data-toggle="collapse" data-target="#toggle-proof24">
           code here 
        </button>
    </div>
    <div id="toggle-proof24" class="panel-collapse collapse">
      <div class="panel-body">
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">set.seed</span><span class="p">(</span><span class="m">3456</span><span class="p">)</span><span class="w">
</span><span class="n">par</span><span class="p">(</span><span class="n">mfrow</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">))</span><span class="w">
</span><span class="c1">###Scenario I sampling </span><span class="w">
</span><span class="n">levelA_1</span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">round</span><span class="p">(</span><span class="n">rnorm</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="m">22</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">),</span><span class="m">0</span><span class="p">)</span><span class="w">
</span><span class="n">levelB_1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">round</span><span class="p">(</span><span class="n">rnorm</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="m">25</span><span class="p">,</span><span class="m">4</span><span class="p">),</span><span class="m">0</span><span class="p">)</span><span class="w">
</span><span class="n">levelC_1</span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">round</span><span class="p">(</span><span class="n">rnorm</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="m">30</span><span class="p">,</span><span class="m">6</span><span class="p">),</span><span class="m">0</span><span class="p">)</span><span class="w">
</span><span class="n">levelD_1</span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">round</span><span class="p">(</span><span class="n">rnorm</span><span class="w"> </span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="m">34</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">),</span><span class="m">0</span><span class="p">)</span><span class="w">
</span><span class="n">levels</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="nf">rep</span><span class="p">(</span><span class="s2">"A"</span><span class="p">,</span><span class="m">5</span><span class="p">),</span><span class="nf">rep</span><span class="p">(</span><span class="s2">"B"</span><span class="p">,</span><span class="m">5</span><span class="p">),</span><span class="nf">rep</span><span class="p">(</span><span class="s2">"C"</span><span class="p">,</span><span class="m">5</span><span class="p">),</span><span class="nf">rep</span><span class="p">(</span><span class="s2">"D"</span><span class="p">,</span><span class="m">5</span><span class="p">))</span><span class="w">
</span><span class="n">boxplot</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="n">levelA_1</span><span class="p">,</span><span class="n">levelB_1</span><span class="p">,</span><span class="n">levelC_1</span><span class="p">,</span><span class="w"> </span><span class="n">levelD_1</span><span class="p">)</span><span class="o">~</span><span class="n">levels</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="o">=</span><span class="n">pop_col</span><span class="p">,</span><span class="w"> </span><span class="n">ylim</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">6</span><span class="p">,</span><span class="m">60</span><span class="p">),</span><span class="w"> </span><span class="n">main</span><span class="o">=</span><span class="s2">"Scenario I"</span><span class="p">,</span><span class="w"> </span><span class="n">ylab</span><span class="o">=</span><span class="s2">"score"</span><span class="p">,</span><span class="w"> </span><span class="n">border</span><span class="o">=</span><span class="s2">"azure4"</span><span class="p">)</span><span class="w">
</span><span class="n">points</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="n">mean</span><span class="p">(</span><span class="n">levelA_1</span><span class="p">),</span><span class="n">mean</span><span class="p">(</span><span class="n">levelB_1</span><span class="p">),</span><span class="w"> </span><span class="n">mean</span><span class="p">(</span><span class="n">levelC_1</span><span class="p">),</span><span class="w"> </span><span class="n">mean</span><span class="p">(</span><span class="n">levelD_1</span><span class="p">)</span><span class="w"> </span><span class="p">),</span><span class="w"> </span><span class="n">pch</span><span class="w"> </span><span class="o">=</span><span class="m">18</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="o">=</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">cex</span><span class="o">=</span><span class="m">2</span><span class="p">)</span><span class="w">
</span><span class="n">abline</span><span class="p">(</span><span class="n">h</span><span class="o">=</span><span class="n">mean</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="n">levelA_1</span><span class="p">,</span><span class="n">levelB_1</span><span class="p">,</span><span class="n">levelC_1</span><span class="p">,</span><span class="w"> </span><span class="n">levelD_1</span><span class="p">)),</span><span class="w"> </span><span class="n">col</span><span class="o">=</span><span class="s2">"blue"</span><span class="p">)</span><span class="w">
</span><span class="n">stripchart</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="n">levelA_1</span><span class="p">,</span><span class="n">levelB_1</span><span class="p">,</span><span class="n">levelC_1</span><span class="p">,</span><span class="w"> </span><span class="n">levelD_1</span><span class="p">)</span><span class="o">~</span><span class="n">levels</span><span class="p">,</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="o">=</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="n">vertical</span><span class="w"> </span><span class="o">=</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> 
           </span><span class="n">method</span><span class="o">=</span><span class="w"> </span><span class="s2">"jitter"</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="o">=</span><span class="s2">"darkgrey"</span><span class="p">,</span><span class="w"> </span><span class="n">pch</span><span class="o">=</span><span class="m">19</span><span class="p">)</span><span class="w">


</span><span class="c1">##Scenario II sampling </span><span class="w">
</span><span class="n">levelA_2</span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">round</span><span class="p">(</span><span class="n">rnorm</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="m">22</span><span class="p">,</span><span class="w"> </span><span class="m">10</span><span class="p">),</span><span class="m">0</span><span class="p">)</span><span class="w">
</span><span class="n">levelB_2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">round</span><span class="p">(</span><span class="n">rnorm</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="m">25</span><span class="p">,</span><span class="m">11</span><span class="p">),</span><span class="m">0</span><span class="p">)</span><span class="w">
</span><span class="n">levelC_2</span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">round</span><span class="p">(</span><span class="n">rnorm</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="m">30</span><span class="p">,</span><span class="m">12</span><span class="p">),</span><span class="m">0</span><span class="p">)</span><span class="w">
</span><span class="n">levelD_2</span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">round</span><span class="p">(</span><span class="n">rnorm</span><span class="w"> </span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="m">34</span><span class="p">,</span><span class="w"> </span><span class="m">13</span><span class="p">),</span><span class="m">0</span><span class="p">)</span><span class="w">
</span><span class="n">levels</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="nf">rep</span><span class="p">(</span><span class="s2">"A"</span><span class="p">,</span><span class="m">5</span><span class="p">),</span><span class="nf">rep</span><span class="p">(</span><span class="s2">"B"</span><span class="p">,</span><span class="m">5</span><span class="p">),</span><span class="nf">rep</span><span class="p">(</span><span class="s2">"C"</span><span class="p">,</span><span class="m">5</span><span class="p">),</span><span class="nf">rep</span><span class="p">(</span><span class="s2">"D"</span><span class="p">,</span><span class="m">5</span><span class="p">))</span><span class="w">
</span><span class="n">boxplot</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="n">levelA_2</span><span class="p">,</span><span class="n">levelB_2</span><span class="p">,</span><span class="n">levelC_2</span><span class="p">,</span><span class="w"> </span><span class="n">levelD_2</span><span class="p">)</span><span class="o">~</span><span class="n">levels</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="o">=</span><span class="n">pop_col</span><span class="p">,</span><span class="w"> </span><span class="n">ylim</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">6</span><span class="p">,</span><span class="m">60</span><span class="p">),</span><span class="w"> </span><span class="n">main</span><span class="o">=</span><span class="w"> </span><span class="s2">"Scenario II"</span><span class="p">,</span><span class="w"> </span><span class="n">ylab</span><span class="o">=</span><span class="s2">"score"</span><span class="p">,</span><span class="n">border</span><span class="o">=</span><span class="s2">"azure4"</span><span class="p">)</span><span class="w">
</span><span class="n">points</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="n">mean</span><span class="p">(</span><span class="n">levelA_2</span><span class="p">),</span><span class="n">mean</span><span class="p">(</span><span class="n">levelB_2</span><span class="p">),</span><span class="w"> </span><span class="n">mean</span><span class="p">(</span><span class="n">levelC_2</span><span class="p">),</span><span class="w"> </span><span class="n">mean</span><span class="p">(</span><span class="n">levelD_2</span><span class="p">)</span><span class="w"> </span><span class="p">),</span><span class="w"> </span><span class="n">pch</span><span class="w"> </span><span class="o">=</span><span class="m">18</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="o">=</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">cex</span><span class="o">=</span><span class="m">2</span><span class="p">)</span><span class="w">
</span><span class="n">abline</span><span class="p">(</span><span class="n">h</span><span class="o">=</span><span class="n">mean</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="n">levelA_2</span><span class="p">,</span><span class="n">levelB_2</span><span class="p">,</span><span class="n">levelC_2</span><span class="p">,</span><span class="w"> </span><span class="n">levelD_2</span><span class="p">)),</span><span class="w"> </span><span class="n">col</span><span class="o">=</span><span class="s2">"blue"</span><span class="p">)</span><span class="w">
</span><span class="n">stripchart</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="n">levelA_2</span><span class="p">,</span><span class="n">levelB_2</span><span class="p">,</span><span class="n">levelC_2</span><span class="p">,</span><span class="w"> </span><span class="n">levelD_2</span><span class="p">)</span><span class="o">~</span><span class="n">levels</span><span class="p">,</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="o">=</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="n">vertical</span><span class="w"> </span><span class="o">=</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> 
           </span><span class="n">method</span><span class="o">=</span><span class="w"> </span><span class="s2">"jitter"</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="o">=</span><span class="s2">"darkgray"</span><span class="p">,</span><span class="w"> </span><span class="n">pch</span><span class="o">=</span><span class="m">19</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>
</div>
      <div class="panel-footer">done!</div>
  </div>
</div>

<p><img class="lozad imgViewer mfp-zoom" data-mfp-src="/assets/img/posts/OneWayAnova_files/figure-markdown/unnamed-chunk-2-1.svg" data-src="/assets/img/posts/OneWayAnova_files/figure-markdown/unnamed-chunk-2-1.svg" alt="" /></p>

<p>Fig 2: Box-plot of samples from two scenarios.</p>

<p>In the box-plot above, the samples from the population shown in fig 1
are shown according to their group color in two different scenarios. The
black diamond in each group is the group mean for that group and the
blue horizontal line is the grand mean for all observations. Samples
from two scenarios clearly reflect the difference in the
variance in their population. Following the population variance, the
observations in left are located close to the mean and in the right are
more spread out. To get an idea about the difference in the means of
these groups we calculated mean of each group (shown as black diamond).
Group means in first scenario are 23.2, 25.0, 28.2, 33.2 in group A, B,
C, and D respectively and in the second scenario it is 31.6, 24.2, 25.2,
38.8 in the group A, B, C, and D respectively. Now we need to determine
if there is any difference in the mean of populations they are sampled from.</p>

<h3 id="statement-of-the-problem-">Statement of the problem :</h3>

<p>Now that we have seen the data we will need to work with, lets define
the question we are trying to solve. For each scenario, we saw some
differences in the group means for these four samples from each group of
students. But given these 4 samples (one from each group), do we have
enough evidence to say the population means for these four groups are
different ?</p>

<h3 id="steps-in-anova">Steps in ANOVA</h3>

<h4 id="key-definitions">Key definitions</h4>

<p>We want to tackle this question by analysis of variance, ie we want to
see, of the total variance in these scores how much of it comes from
within the groups and how much of it comes from between the groups.</p>

<p><strong>1.Total variance:</strong> It is the measure of total variance in the data
(score). If we calculate the variance using the deviations of each
observation from the grand mean it is called total variance and the sum
of square used is called Total sum of squares (TSS). It has degree of
freedom equal to n-1 just like normal sample variance.</p>

<p><strong>2. Variance within:</strong> It is the measure of variance within each group. The deviation
used is between each observation and its respective group mean. Sum of
squares is called sum of square within (SSW). Since mean of each group
was used as an estimate of population mean for that group it has n-t
degree of freedom. See notes on <a href="2019-07-01-Degree-of-freedom">degree of freedom</a> for details about
how to calculate df. Variance within is also referred as error as this
is the part of total variance which could not be explained by our
factor.</p>

<p><strong>3. Variance between:</strong> It is the amount of variance explained
by our factor. So, it is calculated using the deviations of group mean
from the grand mean. It has degree of freedom equal to t-1 and sum of
square is called sum of square between (SSB). This represents the
variance explained by our factor.</p>

<p>Figure below shows the relationships between these sum of squares in signal to noise analogy. TSS is proportional to the total variance in the random variable which is represented as the total background noise. When we introduce some categorical variable (groups), some of this variance in the random variable is explained by the groups, giving us some signal that this categorical variable has some effect on the random variable (represented as a pattern). If this signal takes higher proportion of TSS, then most of the variance can be attributed to the effect. For each groups, there is always some level of difference in the observations in the groups, which represents the amount of total variance that couldn’t be explained by our groups. The total sum of squares is always equal to sum of SSB and SSW.</p>

<p><img class="lozad imgViewer mfp-zoom" data-mfp-src="/assets/img/posts/OneWayAnova_files/figure-markdown/SUMS one way ANOVA.svg" data-src="/assets/img/posts/OneWayAnova_files/figure-markdown/SUMS one way ANOVA.svg" alt="Sum of squares in oneway ANOVA" /></p>

<p>Fig 3: Understanding the partitioning of sum of squares in one-way ANOVA.</p>

<h4 id="calculation-of-ss-and-mean-ss">Calculation of SS and mean SS.</h4>

<p>To illustrate the calculation of Sum of square we will look into the
data from samples of Second scenario in more details. Figure below
illustrates the calculation of SS.</p>

<p><img class="lozad imgViewer mfp-zoom" data-mfp-src="/assets/img/posts/OneWayAnova_files/figure-markdown/AnovaSS.svg" data-src="/assets/img/posts/OneWayAnova_files/figure-markdown/AnovaSS.svg" alt="Calculation of sum of squares" /></p>

<p>SSB is calculated using the black deviations in the above figure
(deviation between grand mean and the group mean). In this example there
are 5 samples in each level so the square of deviation needs to be
multiplied by 5 before adding for each level.</p>

<p>SSW is calculated group wise, using the deviation between each
observation and the group mean (deviation represented by each group
color).</p>

<p>SST is just like regular variance using every observation in this data.
So the deviation used will be between each observation and the grand
mean. Now that we know how to calculate these sums lets calculate them
for our samples using R</p>

<div class="panel-group">
  <div class="panel panel-default" style="white-space: normal; overflow-x: auto; ">
        <button data-toggle="collapse" data-target="#toggle-proof25">
           click to view calculation in R 
        </button>
    </div>
    <div id="toggle-proof25" class="panel-collapse collapse">
      <div class="panel-body">
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Scenario I Sum of squares </span><span class="w">
</span><span class="n">grand_mean_I</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">mean</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="n">levelA_1</span><span class="p">,</span><span class="n">levelB_1</span><span class="p">,</span><span class="n">levelC_1</span><span class="p">,</span><span class="w"> </span><span class="n">levelD_1</span><span class="p">))</span><span class="w">
</span><span class="n">group_mean_I</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">mean</span><span class="p">(</span><span class="n">levelA_1</span><span class="p">),</span><span class="n">mean</span><span class="p">(</span><span class="n">levelB_1</span><span class="p">),</span><span class="w"> </span><span class="n">mean</span><span class="p">(</span><span class="n">levelC_1</span><span class="p">),</span><span class="w"> </span><span class="n">mean</span><span class="p">(</span><span class="n">levelD_1</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w">
</span><span class="c1">#TSS</span><span class="w">
</span><span class="n">deviations</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">levelA_1</span><span class="p">,</span><span class="w"> </span><span class="n">levelB_1</span><span class="p">,</span><span class="w"> </span><span class="n">levelC_1</span><span class="p">,</span><span class="w"> </span><span class="n">levelD_1</span><span class="p">)</span><span class="o">-</span><span class="n">grand_mean_I</span><span class="w"> 
</span><span class="n">TSS</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="n">sapply</span><span class="p">(</span><span class="n">deviations</span><span class="p">,</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="n">x</span><span class="o">^</span><span class="m">2</span><span class="w"> </span><span class="p">))</span><span class="w">
</span><span class="n">cat</span><span class="p">(</span><span class="s2">"TSS = "</span><span class="p">,</span><span class="w"> </span><span class="n">TSS</span><span class="p">,</span><span class="w"> </span><span class="s2">"\n"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#SSW</span><span class="w">
</span><span class="n">deviations</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">group_mean_I</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">grand_mean_I</span><span class="w">
</span><span class="n">SSB</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">sum</span><span class="p">((</span><span class="n">sapply</span><span class="p">(</span><span class="n">deviations</span><span class="p">,</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="n">x</span><span class="o">^</span><span class="m">2</span><span class="p">))</span><span class="o">*</span><span class="m">5</span><span class="p">)</span><span class="w">
</span><span class="n">cat</span><span class="p">(</span><span class="s2">"SSB = "</span><span class="p">,</span><span class="w"> </span><span class="n">SSB</span><span class="p">,</span><span class="w"> </span><span class="s2">"\n"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#SSW</span><span class="w">
</span><span class="n">deviations</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">levelA_1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">group_mean_I</span><span class="p">[</span><span class="m">1</span><span class="p">],</span><span class="w">
                </span><span class="n">levelB_1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">group_mean_I</span><span class="p">[</span><span class="m">2</span><span class="p">],</span><span class="w">
                </span><span class="n">levelC_1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">group_mean_I</span><span class="p">[</span><span class="m">3</span><span class="p">],</span><span class="w">
                </span><span class="n">levelD_1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">group_mean_I</span><span class="p">[</span><span class="m">4</span><span class="p">])</span><span class="w">
</span><span class="n">SSW</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">sum</span><span class="p">((</span><span class="n">sapply</span><span class="p">(</span><span class="n">deviations</span><span class="p">,</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="n">x</span><span class="o">^</span><span class="m">2</span><span class="p">)))</span><span class="w">
</span><span class="n">cat</span><span class="p">(</span><span class="s2">"SSW = "</span><span class="p">,</span><span class="w"> </span><span class="n">SSW</span><span class="p">,</span><span class="w"> </span><span class="s2">"\n"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>
</div>
      <div class="panel-footer">done!</div>
  </div>
</div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## TSS =  594.8
## SSB =  288.4
## SSW =  306.4
</code></pre></div></div>

<h4 id="f-test">F-test</h4>

<p>Once we have all sum of squares we can calculate the mean sum of squares
by dividing the SS with degree of freedom. And since this mean sum of
square is only the estimate of corresponding variance in the population
we need to do formal hypothesis testing to see if it is statistically
significant. Since we are comparing to variance we use F-test.</p>

\[F-statistic = \frac {\frac{SSB}{t-1}}{\frac {SSW}{n-t}}\]

\[= \frac{MSB}{MSW}\]

<div class="panel-group">
  <div class="panel panel-default" style="white-space: normal; overflow-x: auto; ">
        <button data-toggle="collapse" data-target="#toggle-proof26">
           calculation in R 
        </button>
    </div>
    <div id="toggle-proof26" class="panel-collapse collapse">
      <div class="panel-body">
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">##Scenario I F-test</span><span class="w">
</span><span class="n">F_statistic</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">(</span><span class="n">SSB</span><span class="o">/</span><span class="p">(</span><span class="m">4-1</span><span class="p">))</span><span class="o">/</span><span class="p">(</span><span class="n">SSW</span><span class="o">/</span><span class="p">(</span><span class="m">20-4</span><span class="p">))</span><span class="w"> 
</span><span class="n">F_statistic</span><span class="w">
</span><span class="n">p_val</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pf</span><span class="p">(</span><span class="n">F_statistic</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">16</span><span class="p">,</span><span class="w"> </span><span class="n">lower.tail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">F</span><span class="p">)</span><span class="w">
</span><span class="n">p_val</span><span class="w">
</span></code></pre></div></div>
</div>
      <div class="panel-footer">done!</div>
  </div>
</div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## F-statistic =  5.020017
## p-value = 0.01217514
</code></pre></div></div>

<p>We did it manually to illustrate the process. R has build in function to
perform ANOVA. Lets use that build in function to perform ANOVA for the
samples from both scenario.</p>

<div class="panel-group">
  <div class="panel panel-default" style="white-space: normal; overflow-x: auto; ">
        <button data-toggle="collapse" data-target="#toggle-proof28">
           code here 
        </button>
    </div>
    <div id="toggle-proof28" class="panel-collapse collapse">
      <div class="panel-body">
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cat</span><span class="p">(</span><span class="s2">"#######---Scenario I----###########\n"</span><span class="p">)</span><span class="w">
</span><span class="n">summary</span><span class="p">(</span><span class="n">aov</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="n">levelA_1</span><span class="p">,</span><span class="n">levelB_1</span><span class="p">,</span><span class="n">levelC_1</span><span class="p">,</span><span class="w"> </span><span class="n">levelD_1</span><span class="p">)</span><span class="o">~</span><span class="n">levels</span><span class="p">))</span><span class="w">
</span><span class="n">cat</span><span class="p">(</span><span class="s2">"\n\n########----Scenario II----#######\n"</span><span class="p">)</span><span class="w">
</span><span class="n">summary</span><span class="p">(</span><span class="n">aov</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="n">levelA_2</span><span class="p">,</span><span class="n">levelB_2</span><span class="p">,</span><span class="n">levelC_2</span><span class="p">,</span><span class="w"> </span><span class="n">levelD_2</span><span class="p">)</span><span class="o">~</span><span class="n">levels</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>
</div>
      <div class="panel-footer">done!</div>
  </div>
</div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## #######---Scenario I----###########

##             Df Sum Sq Mean Sq F value Pr(&gt;F)  
## levels       3  288.4   96.13    5.02 0.0122 *
## Residuals   16  306.4   19.15                 
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## 
## ########----Scenario II----#######
##             Df Sum Sq Mean Sq F value Pr(&gt;F)
## levels       3  683.4   227.8   1.604  0.228
## Residuals   16 2271.6   142.0
</code></pre></div></div>

<p>As we expected, because the samples in second scenario came from the
populations where there was more variance and they did not separate
well, our test came as insignificant. Only for the first scenario we can
say there is difference between means of these groups of students (given
the p-value of 0.012, there is less than 2% chance of error when we say
so). If we want to say same statement for scenario II, there is 22.8%
chance that we will be wrong. That is why test in second scenario is not
significant. It is very important to note that, true mean of groups in
our population is same in both scenarios and there is difference too.
Because of the difference in variance in these scenarios, samples from
first scenario has enough information to reflect that difference in
population mean but in second scenario that difference in group means is
lost in the noise added by high variance in that population. So our
sample in second case doesn’t give us any conclusion, that is why
insignificant results should not be interpreted is no different in
means. It simply means the samples we are using do not have enough
information to say there is difference in population means. In our
situation, increasing the sample size to 30 will resolve the problem in
second scenario as well.</p>

<div class="panel-group">
  <div class="panel panel-default" style="white-space: normal; overflow-x: auto; ">
        <button data-toggle="collapse" data-target="#toggle-proof29">
           See code for details 
        </button>
    </div>
    <div id="toggle-proof29" class="panel-collapse collapse">
      <div class="panel-body">
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">###Scenario II large sample size</span><span class="w">
</span><span class="n">summary</span><span class="p">(</span><span class="n">aov</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="nf">round</span><span class="p">(</span><span class="n">rnorm</span><span class="p">(</span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="m">22</span><span class="p">,</span><span class="w"> </span><span class="m">10</span><span class="p">),</span><span class="m">0</span><span class="p">)</span><span class="w">
              </span><span class="p">,</span><span class="nf">round</span><span class="p">(</span><span class="n">rnorm</span><span class="p">(</span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="m">25</span><span class="p">,</span><span class="m">11</span><span class="p">),</span><span class="m">0</span><span class="p">),</span><span class="w">
              </span><span class="nf">round</span><span class="p">(</span><span class="n">rnorm</span><span class="p">(</span><span class="m">30</span><span class="p">,</span><span class="m">30</span><span class="p">,</span><span class="m">12</span><span class="p">),</span><span class="m">0</span><span class="p">),</span><span class="w">
              </span><span class="nf">round</span><span class="p">(</span><span class="n">rnorm</span><span class="w"> </span><span class="p">(</span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="m">34</span><span class="p">,</span><span class="w"> </span><span class="m">13</span><span class="p">),</span><span class="m">0</span><span class="p">))</span><span class="o">~</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="nf">rep</span><span class="p">(</span><span class="s2">"A"</span><span class="p">,</span><span class="m">30</span><span class="p">),</span><span class="nf">rep</span><span class="p">(</span><span class="s2">"B"</span><span class="p">,</span><span class="m">30</span><span class="p">),</span><span class="nf">rep</span><span class="p">(</span><span class="s2">"C"</span><span class="p">,</span><span class="m">30</span><span class="p">),</span><span class="nf">rep</span><span class="p">(</span><span class="s2">"D"</span><span class="p">,</span><span class="m">30</span><span class="p">))))</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>##                                                            Df Sum Sq Mean Sq
## c(rep("A", 30), rep("B", 30), rep("C", 30), rep("D", 30))   3   5001  1667.0
## Residuals                                                 116  18849   162.5
##                                                           F value   Pr(&gt;F)    
## c(rep("A", 30), rep("B", 30), rep("C", 30), rep("D", 30))   10.26 4.83e-06 ***
## Residuals                                                                     
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
</code></pre></div></div>
</div>
      <div class="panel-footer">done!</div>
  </div>
</div>

<p>Will increasing the sample size always makes test significant ?</p>

<p>Not really. If the samples are from the population with same mean, we
cannot get significant result just by increasing the sample size.</p>

<div class="panel-group">
  <div class="panel panel-default" style="white-space: normal; overflow-x: auto; ">
        <button data-toggle="collapse" data-target="#toggle-proof30">
           See code for details 
        </button>
    </div>
    <div id="toggle-proof30" class="panel-collapse collapse">
      <div class="panel-body">
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">summary</span><span class="p">(</span><span class="n">aov</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="nf">round</span><span class="p">(</span><span class="n">rnorm</span><span class="p">(</span><span class="m">300</span><span class="p">,</span><span class="w"> </span><span class="m">22</span><span class="p">,</span><span class="w"> </span><span class="m">10</span><span class="p">),</span><span class="m">0</span><span class="p">)</span><span class="w">
              </span><span class="p">,</span><span class="nf">round</span><span class="p">(</span><span class="n">rnorm</span><span class="p">(</span><span class="m">300</span><span class="p">,</span><span class="w"> </span><span class="m">22</span><span class="p">,</span><span class="m">11</span><span class="p">),</span><span class="m">0</span><span class="p">),</span><span class="w">
              </span><span class="nf">round</span><span class="p">(</span><span class="n">rnorm</span><span class="p">(</span><span class="m">300</span><span class="p">,</span><span class="m">22</span><span class="p">,</span><span class="m">12</span><span class="p">),</span><span class="m">0</span><span class="p">),</span><span class="w">
              </span><span class="nf">round</span><span class="p">(</span><span class="n">rnorm</span><span class="w"> </span><span class="p">(</span><span class="m">300</span><span class="p">,</span><span class="w"> </span><span class="m">22</span><span class="p">,</span><span class="w"> </span><span class="m">13</span><span class="p">),</span><span class="m">0</span><span class="p">))</span><span class="o">~</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="nf">rep</span><span class="p">(</span><span class="s2">"A"</span><span class="p">,</span><span class="m">300</span><span class="p">),</span><span class="nf">rep</span><span class="p">(</span><span class="s2">"B"</span><span class="p">,</span><span class="m">300</span><span class="p">),</span><span class="nf">rep</span><span class="p">(</span><span class="s2">"C"</span><span class="p">,</span><span class="m">300</span><span class="p">),</span><span class="nf">rep</span><span class="p">(</span><span class="s2">"D"</span><span class="p">,</span><span class="m">300</span><span class="p">))))</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>##                                                                 Df Sum Sq
## c(rep("A", 300), rep("B", 300), rep("C", 300), rep("D", 300))    3    917
## Residuals                                                     1196 159133
##                                                               Mean Sq F value
## c(rep("A", 300), rep("B", 300), rep("C", 300), rep("D", 300))   305.5   2.296
## Residuals                                                       133.1        
##                                                               Pr(&gt;F)  
## c(rep("A", 300), rep("B", 300), rep("C", 300), rep("D", 300)) 0.0761 .
## Residuals                                                             
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
</code></pre></div></div>

</div>
      <div class="panel-footer">done!</div>
  </div>
</div>

<h3 id="conclusion">Conclusion</h3>

<p>One way ANOVA is very efficient tool to check if there is any effect of
a factor we are interested. Effect of factor can be tested by performing
ANOVA across different levels within that factor. The table below
summarizes different sums of squares and degree of freedom used in
one-way ANOVA. See my notes on Two-way ANOVA to learn more about ANOVA.</p>

<table class="table table-striped">
  <thead>
    <tr>
      <th>Source</th>
      <th>df</th>
      <th>SS</th>
      <th>Mean SS</th>
      <th>F</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Between</td>
      <td>t-1</td>
      <td>SSB</td>
      <td>MSB= SSB/t-1</td>
      <td>F= MSB/MSW</td>
    </tr>
    <tr>
      <td>Within</td>
      <td>n-t</td>
      <td>SSW</td>
      <td>MSW=  SSW/n-t</td>
      <td> </td>
    </tr>
    <tr>
      <td>Total</td>
      <td>n-1</td>
      <td>TSS</td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>
<hr>
<div class="share-holder">
  <span class="share-label">Share on: </span>
  <ul class="share-buttons">
    
      <li>
        <a href="https://twitter.com/intent/tweet?url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2F2021-06-14-OneWay-ANOVA&amp;text=One-Way%20ANOVA:%20Learn%20by%20experimenting%20with%20data.%20-%20Data%20churn%20by%20AK" target="_blank" rel="noopener noreferrer" data-toggle="tooltip" data-placement="top" title="Twitter" class="hover-effect-big">
          <i class="fa fa-twitter-square fa-fw" aria-hidden="true"></i>
        </a>
      </li>
    
      <li>
        <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fposts%2F2021-06-14-OneWay-ANOVA" target="_blank" rel="noopener noreferrer" data-toggle="tooltip" data-placement="top" title="Facebook" class="hover-effect-big">
          <i class="fa fa-facebook-square fa-fw" aria-hidden="true"></i>
        </a>
      </li>
    
      <li>
        <a href="https://t.me/share/url?url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2F2021-06-14-OneWay-ANOVA&amp;text=One-Way%20ANOVA:%20Learn%20by%20experimenting%20with%20data.%20-%20Data%20churn%20by%20AK" target="_blank" rel="noopener noreferrer" data-toggle="tooltip" data-placement="top" title="Telegram" class="hover-effect-big">
          <i class="fa fa-telegram fa-fw" aria-hidden="true"></i>
        </a>
      </li>
    
      <li>
        <a href="https://www.linkedin.com/sharing/share-offsite/?url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2F2021-06-14-OneWay-ANOVA" target="_blank" rel="noopener noreferrer" data-toggle="tooltip" data-placement="top" title="LinkedIn" class="hover-effect-big">
          <i class="fa fa-linkedin-square fa-fw" aria-hidden="true"></i>
        </a>
      </li>
    
      <li>
        <a href="mailto:?subject=One-Way%20ANOVA:%20Learn%20by%20experimenting%20with%20data.%20-%20Data%20churn%20by%20AK&amp;body=One-Way%20ANOVA:%20Learn%20by%20experimenting%20with%20data.%20-%20Data%20churn%20by%20AK%20http%3A%2F%2Flocalhost%3A4000%2Fposts%2F2021-06-14-OneWay-ANOVA" target="_blank" rel="noopener noreferrer" data-toggle="tooltip" data-placement="top" title="Email" class="hover-effect-big">
          <i class="fa fa-envelope fa-fw" aria-hidden="true"></i>
        </a>
      </li>
    
      <li>
        <a href="javascript:void(0);" onclick="copyToClipboard('http://localhost:4000/posts/2021-06-14-OneWay-ANOVA', 'Link copied!')" id="copytoclipboard" data-toggle="tooltip" data-placement="top" title="Copy link" class="hover-effect-big">
          <i class="fa fa-link fa-fw" aria-hidden="true"></i>
        </a>
      </li>
    
  </ul>
</div>
</div>
</div>

    <div class="pagination_wrapper">
  <nav aria-label="Page navigation">
    <ul class="pagination" style="opacity:0">
    <li><a href="javascript:void(0);">1</a></li></ul>
  </nav>
</div>

  <div id="disqus_thread"></div>

<noscript>
  Please enable JavaScript to view the Comments.
</noscript>


</div><div class="footer-wrapper">
  <div class="footer-container">
    <footer translate="no">
      <div class="footer-text footer-text-centered long-copyright">
          <p>&copy; 2022 Data churn by AK. </p><a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en" target="_blank" rel="noopener noreferrer" data-toggle="tooltip" data-placement="top" data-tooltip-no-hide title="Except where otherwise noted, content on this web site is licensed under a Creative Commons Attribution-ShareAlike 4.0 International License.">
              <img src="/assets/img/default/cc/cc.svg" alt="cc" width="12" height="12">&nbsp;<img src="/assets/img/default/cc/by.svg" alt="by" width="12" height="12">&nbsp;<img src="/assets/img/default/cc/sa.svg" alt="sa" width="12" height="12">&nbsp;<p>Some rights reserved.</p>
            </a></div>
      <p class="footer-powered"><span>Pwrd by </span><a href="https://github.com/MrGreensWorkshop/MrGreen-JekyllTheme" target="_blank" rel="noopener noreferrer">Mr. Green</a></p>
    </footer>
  </div>
</div>
<div class="scroll-to-top-container">
        <a id="scroll-to-top" href="#main-wrapper" class="hover-effect"><i class="fa fa-angle-up"></i></a>
      </div></div>

    <div class="searchbox-container">
  <form id="searchbox-form" >
    <input type="search" id="search-box" placeholder="Search"
    onkeyup="if(this.value!==''){document.getElementById('search-results').style.display = 'block';}"
    onfocusout="this.value='';"
    onblur="setTimeout(function(){ document.getElementById('search-results').style.display = 'none'; }, 100);">
    <ul id="search-results" ></ul>
  </form>
</div>


    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v0.4.1/dist/bootstrap-toc.min.js"></script>

<script src="/assets/js/main.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>
    <script>
      $('.imgViewer[data-no-image-viewer]').css("cursor", "unset");
      $(function () {
        $('.imgViewer:not([data-no-image-viewer])').magnificPopup({
          type: 'image'
          ,image: {
            titleSrc: 'alt'
            /* Error message */
            ,tError: 'The image could not be loaded.<br><br>%url%'
            /* Set to null to disable zoom out cursor. */
            /*,cursor: null */
          }
          ,closeOnContentClick: true
          ,showCloseBtn: false
          ,zoom: {
            /* By default it's false, so don't forget to enable it */
            enabled: true
            /* duration of the effect, in milliseconds */
            ,duration: 300
            /* CSS transition easing function */
            ,easing: 'ease-in-out'
          }
        });
      });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js"></script>
    <script>
      /* lazy loads elements with default selector as '.lozad' */
      const observer = lozad();
      observer.observe();
    </script>

<script>
      PagerPageNumbers.setProperties({
        paginatorListContainerName: ".pagination_wrapper .pagination"
        ,pageList: ["/posts/2022-03-03-Simple-linear-regression", "/posts/2022-02-15-PCA", "/posts/2022-02-05-Python-Data-Structures", "/posts/2022-02-03-Objects-in-R", "/posts/2022-02-10-Matrix", "/posts/2022-01-13-Principle-of-inference", "/posts/2021-06-14-OneWay-ANOVA", "/posts/2020-02-07-ChiSquare-Distribution", "/posts/2019-11-01-Expected-value", "/posts/2019-07-01-Degree-of-freedom", "/posts/2018-12-02-Mean-N-Variance", "/posts/2018-06-22-Permutation-n-Combination"]
        ,firstButtonName: 'First'
        ,lastButtonName: 'Last'
        ,prevButtonName: "«"
        ,nextButtonName: "»"
      });
    </script>



<script src="/assets/js/simple-jekyll-search-1.9.2.min.js"></script><script>
  function loadSearch(jsonData, searchParam) {
    if (!jsonData) jsonData = '/query/search.json';
    var searchInput = document.getElementById('search-box');

    const simpleJekyllSearch = SimpleJekyllSearch({
      searchInput: searchInput
      ,resultsContainer: document.getElementById('search-results')
      ,json: jsonData
      ,searchResultTemplate: '<li><a href="{url}">{title}<span>{date}</span></a></li>'
      ,noResultsText: '<li>No results found.</li>'
      ,limit: 10
      ,fuzzy: false
    });

    if (searchParam) {
      searchInput.value = searchParam;
      searchInput.focus();
      searchInput.disabled=false;
      setTimeout(function(){
        simpleJekyllSearch.search(searchParam);
      }, 400);
    }
  }

  </script>

<script>
    function isEmpty(value) {
      if (value === "" || value === null || typeof value === "undefined") return true;
      return false;
    }

    function getQueryParam (param, mach = true) {
      var queryString = window.location.search.substring(1);
      if (isEmpty(queryString)) return null;
      var queries = queryString.split("&");
      for (var i in queries) {
        var pair = decodeURIComponent(queries[i]).split("=");
        if (mach == true){
          if (pair[0] == param) {
            if (isEmpty(pair[1]) === false) return pair[1];
          }
        }else{
          return pair;
        }
        break;
      }
      return null;
    }

    const searchParam = getQueryParam('search');

    (async () => {
      let resp = await fetch('/query/search.json');
      if (!resp.ok) return;
      let jsonData = await resp.json();
      loadSearch(jsonData, searchParam);
    })();
  </script>
<script>
  const disqus_consent_msg = true;
  var disqus_config = function () {
    this.language = "en";
    this.page.url = 'http://localhost:4000/posts/2021-06-14-OneWay-ANOVA';
    this.page.identifier = '/posts/2021-06-14-OneWay-ANOVA';
  };

  function disqusLoader() {
    var d = document, s = d.createElement('script');
    s.src = 'https://https-datachurnbyak-github-io.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  }

  /* reload when data-color-scheme changes. (dark, light) */
  function disqusReloader() {
    if (typeof DISQUS === "undefined") return;
    DISQUS.reset({
      reload: true
      ,config: disqus_config
    });
  }
  const color_scheme_observer = new MutationObserver(disqusReloader);
  color_scheme_observer.observe(document.body, {attributeFilter: ["data-color-scheme"]});
  /* comments load mode */
  let discusLoadDoNotAskStorageKey = "disqusLoadDoNotAskAgain";

  function add_click_to_load_button() {
    if (localStorage.getItem(discusLoadDoNotAskStorageKey)) disqusLoader();

    /* create element */
    let newElement = document.createElement("div");

    if (disqus_consent_msg == true) {
      newElement.innerHTML = "<div class=\"multipurpose-container\" style=\"margin:20px\"> <h4 style=\"margin-top: 0;\">Comments (Disqus.com)</h4> <p> Comment feature is hosted by a third party. By showing the external content you accept the <a href=\"https://help.disqus.com/en/articles/1717102-terms-of-service\" target=\"_blank\" rel=\"noopener noreferrer\">Terms of Service</a> and <a href=\"https://help.disqus.com/en/articles/1717103-disqus-privacy-policy\" target=\"_blank\" rel=\"noopener noreferrer\">Privacy Policy</a> of disqus.com. <br>If you prefer to opt out of targeted advertising, open <a href=\"https://disqus.com/data-sharing-settings\" target=\"_blank\" rel=\"noopener noreferrer\">this link</a> and click \"opt-out\" button and close. Return here and load comments. </p> <a href=\"javascript:void(0);\" class=\"btn-base btn-priority load_comments\" data-comment-always-load role=\"button\">Always show</a> &nbsp;<a href=\"javascript:void(0);\" class=\"btn-base load_comments\" role=\"button\">Show only this time</a> </div>";
    } else {
      newElement.innerHTML = '<a href="javascript:void(0);" class="btn-base load_comments" role="button">Load Comments</a>';
      newElement.style.textAlign = 'center';
      newElement.style.minHeight = '20px';
    }

    /* add button */
    let holder = document.querySelector('#disqus_thread');
    if (!holder) return;
    holder.appendChild(newElement);
    /* add button click event */
    let buttons = document.querySelectorAll('#disqus_thread .load_comments');
    if (!buttons) return;
    buttons.forEach(function (button) {
      button.addEventListener('click', buttonCallback);
    });

    function buttonCallback(e) {
      disqusLoader();
      /* scroll to page bottom to see comments. */
      document.getElementById('disqus_thread').style.height = '394px';
      window.scrollTo(0, document.body.scrollHeight);
      if (e.target.hasAttribute('data-comment-always-load')) {
        localStorage.setItem(discusLoadDoNotAskStorageKey, true);
      }
    };
  }
  /* load when slide to the end of page */
  window.addEventListener("load", add_click_to_load_button);
  </script>


    <script id="dsq-count-scr" src="https://https-datachurnbyak-github-io.disqus.com/count.js" async></script>
    <script>
        if (window.location.hash == "#disqus_thread") {
          let element = document.getElementById('disqus_thread');
          $("html, body").animate({ scrollTop: $(element).offset().top }, 600);
        }
      </script>
     


<script>
  CookieConsent.consentSettingHtml = "<h5>Cookie settings</h5> <br> <p class=\"info-text\">This website uses cookies to optimize site functionality. It will be activated with your approval. Please click each item below for cookie policy. Check <a href=\"/privacy-policy.html\">Privacy policy</a> </p> <table> <tr> <td onclick=\"$('.info[data-consent-info=necessary]').slideToggle();$(this).children('i').toggleClass('fa-plus-square-o').toggleClass('fa-minus-square-o')\"> <i class=\"fa-fw fa fa-plus-square-o\" aria-hidden=\"true\"></i> <p>Strictly necessary cookies</p> </td> <td> <span class=\"active_text\">Always active</span></td> </tr> </table> <div class=\"info\" data-consent-info=\"necessary\"> <p>These cookies are essential for the website function and cannot be disable. They are usually set when site function like color scheme etc. is changed. These cookies do not store any personally identifiable information. Enables storage related to security such as authentication functionality, fraud prevention, and other user protection. </p> </div> <table> <tr> <td onclick=\"$('.info[data-consent-info=analytics]').slideToggle();$(this).children('i').toggleClass('fa-plus-square-o').toggleClass('fa-minus-square-o')\"> <i class=\"fa-fw fa fa-plus-square-o\" aria-hidden=\"true\"></i> <p>Performance cookies</p> </td> <td> <label class=\"slide-switch\"> <input type=\"checkbox\" class=\"checkbox_switch\" checked=\"checked\" data-consent=\"analytics\"> <span class=\"slider\"></span> </label></td> </tr> </table> <div class=\"info\" data-consent-info=\"analytics\"> <p>Enables storage (such as cookies) related to analytics e.g. visit duration. </p> </div> <table> <tr> <td onclick=\"$('.info[data-consent-info=preferences]').slideToggle();$(this).children('i').toggleClass('fa-plus-square-o').toggleClass('fa-minus-square-o')\"> <i class=\"fa-fw fa fa-plus-square-o\" aria-hidden=\"true\"></i> <p>Functionality cookies</p> </td> <td> <label class=\"slide-switch\"> <input type=\"checkbox\" class=\"checkbox_switch\" data-consent=\"preferences\"> <span class=\"slider\"></span> </label></td> </tr> </table> <div class=\"info\" data-consent-info=\"preferences\"> <p>Enables storage that supports the functionality of the website or app e.g. language settings. Enables storage related to personalization e.g. video recommendations. </p> </div> <table> <tr> <td onclick=\"$('.info[data-consent-info=advertising]').slideToggle();$(this).children('i').toggleClass('fa-plus-square-o').toggleClass('fa-minus-square-o')\"> <i class=\"fa-fw fa fa-plus-square-o\" aria-hidden=\"true\"></i> <p>Targeting and advertising cookies</p> </td> <td> <label class=\"slide-switch\"> <input type=\"checkbox\" class=\"checkbox_switch\" data-consent=\"advertising\"> <span class=\"slider\"></span> </label></td> </tr> </table> <div class=\"info\" data-consent-info=\"advertising\"> <p>Enables storage (such as cookies) related to advertising. </p> </div> <br> <div class=\"button-holder\"> <a href=\"javascript:void(0);\" class=\"btn-base btn-left\" onclick=\"CookieConsent.consentSettingDone('deny');\" role=\"button\">Deny</a> <a href=\"javascript:void(0);\" class=\"btn-base btn-priority\" onclick=\"CookieConsent.consentSettingDone('accept');\" role=\"button\">Allow all</a> <a href=\"javascript:void(0);\" class=\"btn-base \" onclick=\"CookieConsent.consentSettingDone('save');\" role=\"button\">Allow selection</a> </div>";
  CookieConsent.consentBarHtml = "<div class=\"consent-bar\"> <a class=\"close-button\" href=\"javascript:void(0);\" onclick=\"CookieConsent.hideConsentBar();\"><i class=\"fa-fw fa fa-times\"></i></a> <p>This website uses cookies to optimize site functionality. It will be activated with your approval. Check <a href=\"/privacy-policy.html\">Privacy policy</a> </p> <a href=\"javascript:void(0);\" class=\"btn-base \" onclick=\"CookieConsent.consentBarDone('deny');\" role=\"button\">Deny</a> <a href=\"javascript:void(0);\" class=\"btn-base \" onclick=\"CookieConsent.consentBarDone('settings');\" role=\"button\">Customize</a> <a href=\"javascript:void(0);\" class=\"btn-base btn-priority\" onclick=\"CookieConsent.consentBarDone('accept');\" role=\"button\">Allow all</a> </div>";
  CookieConsent.consent_items = JSON.parse('{"necessary":{"group":["security_storage"],"value":"granted","wait_for_update":500,"cookie_domain":"","no_check_box":true},"analytics":{"group":["analytics_storage"],"value":"denied"},"preferences":{"group":["functionality_storage","personalization_storage"],"value":"denied"},"advertising":{"group":["ad_storage"],"value":"denied"}}');
  CookieConsent.hideConsentBarWithSaveButton = true;

  const consent_settings = CookieConsent.getConsentSettings();
  const default_configs = JSON.parse('{"anonymize_ip":true,"ads_data_redaction":true,"cookie_flags":"SameSite=None;Secure"}');
</script>
</body>
</html>

